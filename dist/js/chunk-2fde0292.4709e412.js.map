{"version":3,"sources":["webpack:///./src/api/article.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/views/article-list.vue?a6c3","webpack:///./src/views/Home.vue?8665","webpack:///./src/views/article-list.vue?7edb","webpack:///./src/components/article-item.vue?1061","webpack:///src/components/article-item.vue","webpack:///./src/components/article-item.vue?d5c6","webpack:///./src/components/article-item.vue","webpack:///src/views/article-list.vue","webpack:///./src/views/article-list.vue?2dc0","webpack:///./src/views/article-list.vue","webpack:///./src/components/channele-edit.vue?93a5","webpack:///./src/api/channel.js","webpack:///src/components/channele-edit.vue","webpack:///./src/components/channele-edit.vue?4579","webpack:///./src/components/channele-edit.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/components/article-item.vue?f523","webpack:///./src/api/user.js","webpack:///./src/components/channele-edit.vue?f14f","webpack:///./src/views/Home.vue?4ef2"],"names":["getArticle","params","request","method","url","getArticleById","articleId","addCollect","data","target","deleteCollect","addLike","deleteLike","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","trim","isObject","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","prototype","$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","proto","forced","callbackfn","this","arguments","length","undefined","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","index","code","it","charCodeAt","NaN","slice","parseInt","key","NumberWrapper","value","valueOf","call","keys","split","j","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","model","callback","$$v","active","expression","_l","channel","id","name","on","$event","isChanneleShow","channels","staticRenderFns","ref","onRefresh","scopedSlots","_u","fn","props","style","transform","distance","proxy","isrefreshLoading","finished","onLoad","loading","article","art_id","_s","title","cover","type","img","_e","aut_name","comm_count","_f","pubdate","images","methods","components","component","artciles","mounted","activated","ArticleItem","isEdit","class","onUserChannelClick","add","getAllChannels","addUserChannel","deleteUserChannel","channelId","created","loadAllChannels","switchChannel","computed","recommendChannels","loadChannels","ArticleList","login","sendSms","mobile","getCurrentUser","getUserChannels","addFollow","userId","deleteFollow","getUserProfile","updataUserProfile","editUserPhoto"],"mappings":"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","file":"js/chunk-2fde0292.4709e412.js","sourcesContent":["/* \r\n文章请求 相关模块\r\n*/\r\n\r\nimport request from '../utils/request'\r\n\r\n// 获取文章列表\r\nexport const getArticle = params => {\r\n    return request({\r\n        method: 'GET',\r\n        url: '/app/v1_1/articles',\r\n        params\r\n    })\r\n}\r\n\r\n// 获取新闻文章详情\r\nexport const getArticleById = articleId => {\r\n    return request({\r\n        method: 'GET',\r\n        url: `/app/v1_0/articles/${articleId}`\r\n    })\r\n}\r\n\r\n// 收藏文章\r\nexport const addCollect = articleId => {\r\n    return request({\r\n        method: 'POST',\r\n        url: '/app/v1_0/article/collections',\r\n        data: {\r\n            target: articleId\r\n        }\r\n    })\r\n}\r\n\r\n// 取消收藏文章\r\nexport const deleteCollect = articleId => {\r\n    return request({\r\n        method: 'DELETE',\r\n        url: `/app/v1_0/article/collections/${articleId}`\r\n    })\r\n}\r\n\r\n// 点赞文章\r\nexport const addLike = articleId => {\r\n    return request({\r\n        method: 'POST',\r\n        url: '/app/v1_0/article/likings',\r\n        data: {\r\n            target: articleId\r\n        }\r\n    })\r\n}\r\n\r\n// 取消点赞文章\r\nexport const deleteLike = articleId => {\r\n    return request({\r\n        method: 'DELETE',\r\n        url: `/app/v1_0/article/likings/${articleId}`\r\n    })\r\n}","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article-list.vue?vue&type=style&index=0&id=390335e3&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-container\"},[_c('van-nav-bar',{staticClass:\"app-nav-bar\"},[_c('van-button',{staticClass:\"search-btn\",attrs:{\"slot\":\"title\",\"icon\":\"search\",\"type\":\"info\",\"round\":\"\",\"size\":\"small\",\"to\":\"/search\"},slot:\"title\"},[_vm._v(\"搜索\")])],1),_c('van-tabs',{staticClass:\"channel-tabs\",model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_vm._l((_vm.channels),function(channel){return _c('van-tab',{key:channel.id,staticClass:\"tab-item\",attrs:{\"title\":channel.name}},[_c('article-list',{attrs:{\"channel\":channel}})],1)}),_c('div',{staticClass:\"wap-nav-blank\",attrs:{\"slot\":\"nav-right\"},slot:\"nav-right\"}),_c('div',{staticClass:\"wap-nav-wrap\",attrs:{\"slot\":\"nav-right\"},on:{\"click\":function($event){_vm.isChanneleShow = true}},slot:\"nav-right\"},[_c('van-icon',{attrs:{\"name\":\"wap-nav\"}})],1)],2),_c('van-popup',{staticClass:\"channele-edit-popup\",attrs:{\"position\":\"bottom\",\"closeable\":\"\",\"close-icon-position\":\"top-left\",\"get-container\":\"body\"},model:{value:(_vm.isChanneleShow),callback:function ($$v) {_vm.isChanneleShow=$$v},expression:\"isChanneleShow\"}},[_c('channele-edit',{attrs:{\"user-channels\":_vm.channels,\"active\":_vm.active},on:{\"close\":function($event){_vm.isChanneleShow = false},\"switch\":function($event){_vm.active = $event}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"article-list\",staticClass:\"article-list\"},[_c('van-pull-refresh',{attrs:{\"head-height\":80},on:{\"refresh\":_vm.onRefresh},scopedSlots:_vm._u([{key:\"pulling\",fn:function(props){return [_c('img',{staticClass:\"doge\",style:({ transform: (\"scale(\" + (props.distance / 80) + \")\") }),attrs:{\"src\":\"https://img01.yzcdn.cn/vant/doge.png\"}})]}},{key:\"loosing\",fn:function(){return [_c('img',{staticClass:\"doge\",attrs:{\"src\":\"https://img01.yzcdn.cn/vant/doge.png\"}})]},proxy:true},{key:\"loading\",fn:function(){return [_c('img',{staticClass:\"doge\",attrs:{\"src\":\"https://img01.yzcdn.cn/vant/doge-fire.jpg\"}})]},proxy:true}]),model:{value:(_vm.isrefreshLoading),callback:function ($$v) {_vm.isrefreshLoading=$$v},expression:\"isrefreshLoading\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.artciles),function(article,index){return _c('article-item',{key:index,attrs:{\"article\":article}})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-cell',{staticClass:\"article-item\",attrs:{\"to\":{\r\n        name:'article',\r\n        params:{\r\n            articleId: _vm.article.art_id\r\n        }\r\n    }}},[_c('div',{staticClass:\"van-multi-ellipsis--l3\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.article.title))]),_c('div',{attrs:{\"slot\":\"label\"},slot:\"label\"},[(_vm.article.cover.type === 3)?_c('div',{staticClass:\"cover-wrap\"},_vm._l((_vm.article.cover.images),function(img,index){return _c('div',{key:index,staticClass:\"cover-wrap-item\"},[_c('van-image',{staticClass:\"cover-item\",attrs:{\"fit\":\"cover\",\"src\":img}})],1)}),0):_vm._e(),_c('div',{staticClass:\"label-wrap\"},[_c('span',[_vm._v(_vm._s(_vm.article.aut_name))]),_c('span',[_vm._v(_vm._s(_vm.article.comm_count)+\"评论\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"relativeTime\")(_vm.article.pubdate)))])])]),(_vm.article.cover.type === 1)?_c('van-image',{attrs:{\"fit\":\"cover\",\"src\":_vm.article.cover.images[0]}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n    <!-- <div class=\"article-item\"></div> -->\r\n    <van-cell class=\"article-item\"\r\n    :to=\"{\r\n        name:'article',\r\n        params:{\r\n            articleId: article.art_id\r\n        }\r\n    }\">\r\n    <!-- 动态路由传参 -->\r\n        <div slot=\"title\"\r\n        class=\"van-multi-ellipsis--l3\">{{article.title}}</div>\r\n        \r\n        <div slot=\"label\">\r\n            <div class=\"cover-wrap\"\r\n            v-if=\"article.cover.type === 3\">\r\n                <div class=\"cover-wrap-item\"\r\n                v-for=\"(img,index) in article.cover.images\"\r\n                :key=\"index\">\r\n                <van-image \r\n                fit=\"cover\"\r\n                class=\"cover-item\"\r\n                :src=\"img\" />\r\n            </div>\r\n            </div>\r\n            <div class=\"label-wrap\">\r\n                <span>{{article.aut_name}}</span>\r\n                <span>{{article.comm_count}}评论</span>\r\n                <span>{{article.pubdate | relativeTime}}</span>\r\n            </div>\r\n        </div>\r\n        <!-- 默认插槽名字 default 可省略不写 -->\r\n        <van-image \r\n        v-if=\"article.cover.type === 1\"\r\n        fit=\"cover\"\r\n        :src=\"article.cover.images[0]\" />\r\n    </van-cell>\r\n</div>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\nname:'ArticleItem',\r\nprops:{\r\n    article:{\r\n        type:Object,\r\n        required:true\r\n    }\r\n},\r\ndata(){\r\nreturn {\r\n\r\n}\r\n},\r\nmethods:{\r\n\r\n},\r\ncomponents:{\r\n\r\n},\r\n};\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n    .article-item {\r\n        .title{\r\n            font-size: 16px;\r\n            color:#3a3a3a;\r\n        }\r\n       /deep/ .van-cell__value {\r\n            flex: unset;\r\n            width: 116px;\r\n            height: 73px;\r\n        }\r\n        .cover-wrap {\r\n            display: flex;\r\n            .cover-wrap-item{\r\n                flex: 1;\r\n                height: 73px;\r\n                &:not(:last-child) {\r\n                    padding-right: 5px;\r\n                }\r\n                .cover-item {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                }\r\n            }\r\n        }\r\n        .label-wrap {\r\n            font-size: 11px;\r\n            color: #b4b4b4;\r\n            span {\r\n                margin-right: 12px;\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article-item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./article-item.vue?vue&type=template&id=3686c28d&scoped=true&\"\nimport script from \"./article-item.vue?vue&type=script&lang=js&\"\nexport * from \"./article-item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./article-item.vue?vue&type=style&index=0&id=3686c28d&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3686c28d\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n<div class=\"article-list\" ref=\"article-list\">\r\n    <van-pull-refresh \r\n    v-model=\"isrefreshLoading\" \r\n    :head-height=\"80\" \r\n    @refresh=\"onRefresh\">\r\n         <!-- 下拉提示，通过 scale 实现一个缩放效果 -->\r\n         <template #pulling=\"props\">\r\n           <img\r\n             class=\"doge\"\r\n             src=\"https://img01.yzcdn.cn/vant/doge.png\"\r\n             :style=\"{ transform: `scale(${props.distance / 80})` }\"\r\n           />\r\n         </template>   \r\n\r\n         <!-- 释放提示 -->\r\n         <template #loosing>\r\n           <img class=\"doge\" src=\"https://img01.yzcdn.cn/vant/doge.png\" />\r\n         </template>   \r\n\r\n         <!-- 加载提示 -->\r\n         <template #loading>\r\n           <img class=\"doge\" src=\"https://img01.yzcdn.cn/vant/doge-fire.jpg\" />\r\n         </template>\r\n        <van-list\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"onLoad\">\r\n      <!-- 文章内容组件 -->\r\n      <article-item v-for=\"(article,index) in artciles\" \r\n         :key=\"index\" \r\n         :article=\"article\"/>\r\n        <!--  <van-cell v-for=\"(article,index) in artciles\" \r\n         :key=\"index\" \r\n         :title=\"article.title\" /> -->\r\n        </van-list>\r\n    </van-pull-refresh>\r\n</div>\r\n</template>\r\n<script>\r\nimport {getArticle} from '../api/article'\r\nimport ArticleItem from '../components/article-item.vue'\r\nimport {debounce} from 'lodash'\r\nexport default {\r\nname:'ArticleList',\r\nprops:{\r\n    channel:{\r\n        type:Object,\r\n        required:true\r\n    }\r\n},\r\ndata(){\r\nreturn {\r\n      artciles: [], //文章列表数据\r\n    //   控制加载中的 loading 状态\r\n      loading: false,\r\n    //   控制加载结束的状态\r\n      finished: false,\r\n    //   获取下一页的时间戳\r\n    timestamp:null,\r\n    // 下拉刷新的 loding 状态\r\n    isrefreshLoading:false,\r\n    // 滚动条到顶部的距离\r\n    scrollTop:0\r\n    }\r\n},\r\nmounted () {\r\n  let articleList = this.$refs['article-list']\r\n  articleList.onscroll= debounce(() => {\r\n    \r\n    this.scrollTop = articleList.scrollTop\r\n   \r\n  },100)\r\n},\r\nactivated () {\r\n  // activated 用户缓存，从缓存中激活\r\n  this.$refs['article-list'].scrollTop = this.scrollTop\r\n},\r\nmethods:{\r\n   async onLoad () {\r\n        // 1、请求数据\r\n    const {data} = await getArticle({\r\n        channel_id:this.channel.id,\r\n        timestamp:this.timestamp || Date.now(), /* 时间戳，请求新的推荐数据传当前的时间戳，\r\n                                请求历史推荐传指定的时间戳 */\r\n        with_top:1\r\n    })\r\n        // 2、把数据放到 list 中\r\n        const {results} = data.data\r\n        this.artciles.push(...results)\r\n        // 3、设置本次加载状态，来判断是否需要加载下次，否则就用于停在此处 \r\n        this.loading = false\r\n        // 4、数据全部加载完成\r\n        if(results.length) {\r\n            // 获取下一页的数据\r\n            this.timestamp = results.pre_timestamp\r\n        }else {\r\n            // 没有数据时，把加载状态设为结束\r\n            this.finished = true\r\n        }\r\n    },\r\n    // \r\n   async onRefresh() {\r\n        // 下拉属性 ，组件自己展示 loding 状态\r\n        // 1、请求·数据\r\n        const {data} = await getArticle({\r\n        channel_id:this.channel.id,\r\n        timestamp: Date.now(), \r\n        with_top:1\r\n    })\r\n        // 2、把数据放到数据列表中（往顶部追加）\r\n        this.artciles.unshift(...data.data.results)\r\n        // 3、关闭刷新点状态 loding\r\n        this.isrefreshLoading = false\r\n    }\r\n},\r\ncomponents:{\r\n    ArticleItem\r\n},\r\n};\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n    .article-list {\r\n        position:fixed;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 50px;\r\n        top: 90px;\r\n        overflow-y: auto;\r\n    }\r\n    .doge {\r\n    width: 140px;\r\n    height: 72px;\r\n    margin-top: 8px;\r\n    border-radius: 4px;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./article-list.vue?vue&type=template&id=390335e3&scoped=true&\"\nimport script from \"./article-list.vue?vue&type=script&lang=js&\"\nexport * from \"./article-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./article-list.vue?vue&type=style&index=0&id=390335e3&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"390335e3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"channele-edit\"},[_c('van-cell',{attrs:{\"center\":\"\",\"border\":false}},[_c('div',{staticClass:\"channele-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\" 我的频道\")]),_c('van-button',{attrs:{\"type\":\"danger\",\"plain\":\"\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.isEdit = !_vm.isEdit}}},[_vm._v(\" \"+_vm._s(_vm.isEdit? '完成' : '编辑'))])],1),_c('van-grid',{attrs:{\"gutter\":10}},_vm._l((_vm.userChannels),function(channel,index){return _c('van-grid-item',{key:index,class:{active : index === _vm.active},attrs:{\"icon\":(_vm.isEdit && index!==0) ? 'clear' : '',\"text\":channel.name},on:{\"click\":function($event){return _vm.onUserChannelClick(channel,index)}}})}),1),_c('van-cell',{attrs:{\"center\":\"\",\"border\":false}},[_c('div',{staticClass:\"channele-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"频道推荐\")])]),_c('van-grid',{attrs:{\"gutter\":10}},_vm._l((_vm.recommendChannels),function(channel,index){return _c('van-grid-item',{key:index,attrs:{\"text\":channel.name},on:{\"click\":function($event){return _vm.add(channel)}}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* \r\n频道相关请求模块\r\n*/\r\nimport request from '../utils/request'\r\n\r\n// 获取所有频道数据\r\nexport const getAllChannels = () => {\r\n    return request({\r\n        method: 'GET',\r\n        url: '/app/v1_0/channels'\r\n    })\r\n}\r\n\r\n// 添加用户频道\r\nexport const addUserChannel = data => {\r\n    return request({\r\n        method: 'PATCH',\r\n        url: '/app/v1_0/user/channels',\r\n        data\r\n    })\r\n}\r\n\r\n// 删除用户频道\r\nexport const deleteUserChannel = channelId => {\r\n    return request({\r\n        method: 'DELETE',\r\n        url: `/app/v1_0/user/channels/${channelId}`\r\n    })\r\n}","<template>\r\n<div class=\"channele-edit\">\r\n    <!-- 我的频道 -->\r\n    <van-cell center :border=\"false\">\r\n        <div slot=\"title\"\r\n        class=\"channele-title\"> 我的频道</div>\r\n        <van-button\r\n        type=\"danger\"\r\n        plain\r\n        round\r\n        size=\"mini\"\r\n        @click=\"isEdit = !isEdit\">\r\n        {{isEdit? '完成' : '编辑'}}</van-button>\r\n    </van-cell>\r\n   <!-- 宫格 -->\r\n    <van-grid :gutter=\"10\">\r\n      <van-grid-item \r\n        :class=\"{active : index === active}\"\r\n        v-for=\"(channel,index) in userChannels\"\r\n        :key=\"index\" \r\n        :icon=\"(isEdit && index!==0) ? 'clear' : '' \"\r\n        :text=\"channel.name\"\r\n        @click=\"onUserChannelClick(channel,index)\"/>\r\n    </van-grid>\r\n    <!-- 频道推荐 -->\r\n    <van-cell center :border=\"false\">\r\n        <div slot=\"title\"\r\n        class=\"channele-title\">频道推荐</div>\r\n    </van-cell>\r\n   <!-- 宫格 -->\r\n    <van-grid :gutter=\"10\">\r\n      <van-grid-item \r\n        v-for=\"(channel,index) in recommendChannels\"\r\n        :key=\"index\"\r\n        :text=\"channel.name\"\r\n        @click=\"add(channel)\"/>\r\n    </van-grid>\r\n</div>\r\n</template>\r\n<script>\r\nimport { getAllChannels,\r\n        addUserChannel,\r\n        deleteUserChannel } from '../api/channel'\r\nimport {mapState} from 'vuex'\r\nimport {setItem} from '../utils/storage'\r\nexport default {\r\n\r\nprops:{\r\n    'user-channels':{\r\n        type:Array,\r\n        equired:true\r\n    },\r\n    active: {\r\n        type:Number,\r\n        equired:true\r\n    }\r\n},\r\ndata(){\r\nreturn {\r\n    // 所有频道数据\r\n    allChannels:[],\r\n    // 控制删除频道的显示隐藏\r\n    isEdit:false\r\n}\r\n},\r\ncreated() {\r\n    this.loadAllChannels()\r\n},\r\nmethods:{\r\n   async loadAllChannels() {\r\n    const { data } = await getAllChannels()\r\n    this.allChannels = data.data.channels\r\n    },\r\n    // 将推荐频道添加到我的频道\r\n   async add(channel) {\r\n        this.userChannels.push(channel)\r\n        // ToDO 数据持久化\r\n        if(this.user) {\r\n            // 登录了数据存储到线上\r\n          await addUserChannel(\r\n               {\r\n                channels: [\r\n                    {id: channel.id, seq: this.userChannels.length}\r\n                ]\r\n               })\r\n        }else{\r\n            // 未登录数据存储到本地\r\n            setItem('user-channels',this.userChannels)\r\n        }\r\n    },\r\n    // 编辑与切换频道\r\n    onUserChannelClick(channel, index) {\r\n        if(this.isEdit && index !==0) {\r\n            // 编辑状态 进行删除操作\r\n            this.deleteChannel(channel, index)\r\n        }else {\r\n            // 切换操作\r\n            this.switchChannel(index)\r\n        }\r\n    },\r\n    // 编辑状态 进行删除操作\r\n   async deleteChannel(channel, index) {\r\n        // 如果删除当前激活频道之前的频道 \r\n        if(index <= this.active) {\r\n            // 更新当前激活频道的索引\r\n            this.$emit('switch',this.active - 1)\r\n        }\r\n        this.userChannels.splice(index,1)\r\n\r\n        // 数据持久化\r\n        if(this.user) {\r\n            // 登陆了保存在线上\r\n           await deleteUserChannel(channel.id)\r\n        }else {\r\n            // 未登录状态 保存在本地\r\n            setItem('user-channels',this.userChannels)\r\n        }\r\n    },\r\n    // 切换操作\r\n    switchChannel(index){\r\n        // 切换选中频道\r\n        this.$emit('switch',index)\r\n        // 自定义事件传给父组件 关闭弹出层\r\n        this.$emit('close')\r\n    }\r\n},\r\n// 计算属性会根据内部依赖属性的变化而重新求值\r\ncomputed : {\r\n    //  把用户 user 映射到本地\r\n    ...mapState(['user']),\r\n    // 推荐的频道列表\r\n    recommendChannels () {\r\n        // 所有频道 - 我的频道 = 剩余的推荐频道\r\n        // filter 方法过滤数据 根据返回的布尔值 来收集数据\r\n        // filter 查找满足条件的所有元素\r\n        return this.allChannels.filter(channel =>{\r\n            // 判断 channel 是否数据 用户频道\r\n            // find 查找满足条件的 单个 元素\r\n            return  !this.userChannels.find(userChannels=>{\r\n                // 找到满足条件的元素\r\n                return userChannels.id === channel.id\r\n            })\r\n        })\r\n    },\r\n},\r\ncomponents:{\r\n\r\n},\r\n};\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n    .channele-edit {\r\n        padding-top: 54px;\r\n        .channele-title {\r\n            font-size: 16px;\r\n            color: #333;\r\n        }\r\n        .van-grid-item {\r\n            width: 80px;\r\n            height: 43px;\r\n            /deep/ .van-grid-item__content {\r\n                background-color: #f4f5f6;\r\n                .van-grid-item__text {\r\n                    font-size: 14px;\r\n                    color: #222;\r\n                    margin-top: 0;\r\n                }\r\n            }\r\n           /deep/ .van-grid-item__icon {\r\n            position: absolute;\r\n            top: -5px;\r\n            right: -7px;\r\n            font-size: 20px;\r\n            color: #ccc;\r\n            }\r\n        }\r\n        .active {\r\n            /deep/ .van-grid-item__text {\r\n                color: red !important;\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./channele-edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./channele-edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./channele-edit.vue?vue&type=template&id=6cfee246&scoped=true&\"\nimport script from \"./channele-edit.vue?vue&type=script&lang=js&\"\nexport * from \"./channele-edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./channele-edit.vue?vue&type=style&index=0&id=6cfee246&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cfee246\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n<div class=\"home-container\">\r\n   <!-- 导航栏 -->\r\n   <van-nav-bar class=\"app-nav-bar\">\r\n       <!-- 搜索按钮 -->\r\n       <van-button\r\n       slot=\"title\"\r\n       class=\"search-btn\"\r\n       icon=\"search\"\r\n       type=\"info\"\r\n       round\r\n       size=\"small\"\r\n       to=\"/search\">搜索</van-button>\r\n   </van-nav-bar>\r\n   <!-- 文章频道列表标签 -->\r\n   <van-tabs v-model=\"active\"\r\n   class=\"channel-tabs\">\r\n      <van-tab\r\n      class=\"tab-item\" \r\n      :title=\"channel.name\"\r\n      v-for=\"channel in channels\" \r\n      :key=\"channel.id\">\r\n      <!-- 文章列表组件 -->\r\n      <article-list :channel=\"channel\" />\r\n      </van-tab>\r\n      <!-- 占位元素 -->\r\n      <div slot=\"nav-right\"\r\n      class=\"wap-nav-blank\"> </div>\r\n      <!-- 汉堡按钮 -->\r\n      <div slot=\"nav-right\"\r\n      @click=\"isChanneleShow = true\"\r\n      class=\"wap-nav-wrap\">\r\n        <van-icon name=\"wap-nav\" />\r\n      </div>\r\n    </van-tabs>\r\n    <!-- 频道编辑弹出层 --> \r\n    <!-- get-container=\"body\" 指定弹出层挂载到 body 节点 -->\r\n    <van-popup \r\n    v-model=\"isChanneleShow\" \r\n    position=\"bottom\" \r\n    closeable\r\n    class=\"channele-edit-popup\"\r\n    close-icon-position=\"top-left\"\r\n    get-container=\"body\">\r\n    <!-- 频道编辑组件 -->\r\n    <!-- 模板中 $event 表示事件参数 -->\r\n    <channele-edit :user-channels = \"channels\"\r\n    @close=\"isChanneleShow = false\"\r\n    @switch=\"active = $event\"\r\n    :active=\"active\"/>\r\n    </van-popup>\r\n</div>\r\n</template>\r\n<script>\r\nimport {getUserChannels} from '../api/user'\r\nimport ArticleList from './article-list.vue'\r\nimport {mapState} from 'vuex'\r\nimport {getItem} from '../utils/storage'\r\n// 引入频道编辑组件\r\nimport ChanneleEdit from '../components/channele-edit.vue'\r\nexport default {\r\n\r\nprops:{\r\n},\r\ndata(){\r\nreturn {\r\n    active:0,\r\n    // 频道数据\r\n    channels:[],\r\n    // 弹出层的显示与隐藏\r\n    isChanneleShow:false\r\n}\r\n},\r\ncreated(){\r\n    this.loadChannels()\r\n},\r\nmethods:{\r\n//  请求获取频道数据\r\n   async loadChannels(){\r\n    let channels = []\r\n    if(this.user) {\r\n        // 已登录获取线上频道\r\n        const {data} = await getUserChannels()\r\n        channels = data.data.channels \r\n    }else{\r\n        // 未登录获取本地\r\n       const localChannels = getItem('user-channels')\r\n       if(localChannels) {\r\n        //    如果有本地存储数据\r\n        channels = localChannels\r\n       }else {\r\n        //没有本地存储数据 就用默认推荐数据\r\n        const {data} = await getUserChannels()\r\n        channels = data.data.channels \r\n       }\r\n    }\r\n    // 把channels 给 data 里的 channels\r\n    this.channels = channels\r\n\r\n   /*  const {data} = await getUserChannels()\r\n    this.channels = data.data.channels */\r\n    \r\n    },\r\n    // 子组件来切换频道\r\n   /*  switchTive(index) {\r\n        this.active = index\r\n    } */\r\n},\r\ncomputed:{\r\n    ...mapState(['user'])\r\n},\r\ncomponents:{\r\n    ArticleList,ChanneleEdit\r\n},\r\n};\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n    .home-container{\r\n       /deep/ .van-nav-bar__title{\r\n            max-width: none;\r\n        }\r\n        .search-btn{\r\n            width: 277px;\r\n            height: 32px;\r\n            background-color: #5babfb;\r\n            border: none;\r\n            .van-icon{\r\n                font-size: 16px;\r\n            }\r\n            .van-button__text{\r\n                font-size: 14px;\r\n            }\r\n        }\r\n        .channel-tabs {\r\n           /deep/ .van-tab{\r\n                border-right: 1px solid #edeff3;\r\n                border-bottom: 1px solid #edeff3;\r\n            }\r\n            /deep/ .van-tabs__line {\r\n                width: 15px !important;\r\n                height: 3px;\r\n                bottom: 20px;\r\n                background-color: #3296fa;\r\n            }\r\n        }\r\n        .wap-nav-wrap {\r\n            position: fixed;\r\n            right: 0;\r\n            height: 45px;\r\n            width: 33px;\r\n            text-align: center;\r\n            line-height: 43px;\r\n            background-color: #fff;\r\n            opacity: .8;\r\n            &:before{\r\n                content: '';\r\n                width: 1px;\r\n                height: 45px;\r\n                background: url('./images/line.png') no-repeat;\r\n                background-size: contain;\r\n                position: absolute;\r\n                left: 0;\r\n                top: 0;\r\n            }\r\n        }\r\n        .wap-nav-blank {\r\n            width: 33px;\r\n            flex-shrink: 0;\r\n        }\r\n    }\r\n    .channele-edit-popup {\r\n            height: 100%;\r\n        }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=7398aab1&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=7398aab1&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7398aab1\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article-item.vue?vue&type=style&index=0&id=3686c28d&scoped=true&lang=less&\"","/* \r\n用户请求模块\r\n*/\r\n\r\nimport request from '../utils/request'\r\n\r\nexport const login = data => {\r\n    return request({\r\n        method: 'POST',\r\n        url: '/app/v1_0/authorizations',\r\n        data\r\n    })\r\n}\r\n\r\n/* \r\n短信验证码\r\n*/\r\nexport const sendSms = mobile => {\r\n    return request({\r\n        method: 'GET',\r\n        url: `/app/v1_0/sms/codes/${mobile}`\r\n    })\r\n}\r\n\r\n/* \r\n获取登录用户自己的信息\r\n */\r\nexport const getCurrentUser = () => {\r\n    return request({\r\n        method: 'GET',\r\n        url: '/app/v1_0/user'\r\n            /* headers: {\r\n                Authorization: `Bearer ${store.state.user.token}`\r\n            } */\r\n    })\r\n}\r\n\r\n/* 获取用户频道列表数据 */\r\nexport const getUserChannels = () => {\r\n    return request({\r\n        method: 'GET',\r\n        url: '/app/v1_0/user/channels'\r\n    })\r\n}\r\n\r\n/* 关注用户 */\r\nexport const addFollow = userId => {\r\n    return request({\r\n        method: 'POST',\r\n        url: '/app/v1_0/user/followings',\r\n        data: {\r\n            target: userId\r\n        }\r\n    })\r\n}\r\n\r\n/* 取消关注用户 */\r\nexport const deleteFollow = userId => {\r\n    return request({\r\n        method: 'DELETE',\r\n        url: `/app/v1_0/user/followings/${userId}`\r\n    })\r\n}\r\n\r\n/* 获取用户个人资料 */\r\nexport const getUserProfile = () => {\r\n    return request({\r\n        method: 'GET',\r\n        url: `/app/v1_0/user/profile`\r\n    })\r\n}\r\n\r\n/* 修改用户个人资料 */\r\nexport const updataUserProfile = data => {\r\n    return request({\r\n        method: 'PATCH',\r\n        url: `/app/v1_0/user/profile`,\r\n        data\r\n    })\r\n}\r\n\r\n/* 编辑用户照片资料（头像、身份证照片） */\r\nexport const editUserPhoto = data => {\r\n    return request({\r\n        method: 'PATCH',\r\n        url: `/app/v1_0/user/photo`,\r\n        data\r\n    })\r\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./channele-edit.vue?vue&type=style&index=0&id=6cfee246&scoped=true&lang=less&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=7398aab1&scoped=true&lang=less&\""],"sourceRoot":""}